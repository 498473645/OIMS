select * from (select rownum num, dd.drug_code drug_code,dd.drug_name drug_namedd.input_code input_code,dd.drug_indicator drug_indicator,dd.drug_spec drug_spec,dd.drug_form drug_form,dd.units units,dd.toxi_property toxi_property,dd.dose_per_unit dose_per_unit,dd.dose_units dose_units,dd.administration administration,ds.firm_id firm_id,ds.package_spec package_spec,ds.package_units package_units,ds.quantity quantity,cpl.price price from drug_stock ds,drug_dict dd,current_price_list cpl where 1=1 and (expire_date>=to_date(to_char(sysdate,'yyyy-MM-dd'),'yyyy-MM-dd') or expire_date is null) and dd.drug_spec=ds.drug_spec and ds.drug_code=dd.drug_code and cpl.item_code=ds.drug_code and cpl.item_spec=ds.package_spec||ds.firm_id and upper(dd.input_code) like upper('%%')) where 1=1 and num>=1 and num<=200